@using Cinema.ViewModels
@model MovieViewModel
@{
    ViewData["Title"] = "Movies";
}
<div class="container-fluid">
    <div class="data-table-wrapper-club club-wrappers-radius data-table-wrapper">
        <h1 class="grid-header">Movies in the system</h1>
        <script src="~/lib/jquery-ui-dist/jquery-ui.min.js"></script>



        <table id="Movies" class="dtClubAdmins" class="table table-striped table-bordered table-lg table-responsive-lg" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="th-sm">
                        Title
                    </th>
                    <th class="th-sm">
                        Country of Origin
                    </th>
                    <th class="th-sm">
                        Director
                    </th>
                    <th class="th-sm">
                        Premiere date
                    </th>
                    <th>
                        End date
                    </th>
                    <th>
                        Length
                    </th>
                    <th>
                        Poster link
                    </th>
                    <th>
                        Genre
                    </th>
                    <th>
                        Edit
                    </th>
                    <th>
                        Delete
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.movies)
                {
                <tr class="raport-click-row">
                    <td>@item.Title</td>
                    <td>
                        @if(item.CountryOfOrigin.Name != null ){
                            @item.CountryOfOrigin.Name
                        }
                    </td>

                    <td>@item.Director.DirectorName </td>
                    <td>@item.PremiereDate </td>
                    <td>@item.EndDate </td>
                    <td>@item.Length </td>
                    <td>@item.Poster </td>
                    <td>
                        @foreach (var g in item.MovieGenres)
                        {
                            @g.Genre.GenreName
                        }
                    </td>
                    <td>
                        <a asp-controller="AdminTables" asp-action="EditMovie" asp-route-index="@item.Id" style="color: #3c5438; justify-content: center;    display: flex;" role="button">
                            <i class="material-icons">setting</i>
                        </a>
                    </td>

                    <td>
                        <a asp-controller="AdminTables" asp-action="DeleteMovie" asp-route-index="@item.Id" style="color: #3c5438;">
                            <i class="material-icons">delete</i>
                        </a>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<script>
    $(document).ready(function () {
    $('#Movies').DataTable({
        "language": {
            "url": "https://cdn.datatables.net/plug-ins/1.10.20/i18n/English.json"
        }
    });
});
</script>

